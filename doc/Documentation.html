<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<!--
# Copyright (C) 2015  Alain Rioux (le-tools.com)
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# (at your option) any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU General Public License for more details.
#
# You should have received a copy of the GNU General Public License
# along with this program.  If not, see <http://www.gnu.org/licenses/>.
-->
<head>
<title>XL-Whois Documentation</title>
<link rel="stylesheet" type="text/css" href="../Style.css">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style>
li { margin: 0.5em 0; }
</style>
</head>
<body>

<table border=0 cellspacing=0cellpadding=0>
<tr>
<td width="80px" align="center" rowspan=2><img src="XL-Whois48.png" alt="Logo" width="48" height="48" border="0"></td>
<td align="left" valign="center" style="color:#000066; font-size: 100%; font-weight: bold;">XL-Whois<br>Copyright (c) 2015 Alain Rioux<br></td></tr>
<tr><td align="left" style="color:#000066; font-size: 90%;">See <a href="./XL-Whois.html#Credits">Credits</a> about the logo</td></tr>
</table><br>

<hr>

<h1><a name="Documentation">Documentation</a></h1>
<ul>
<li><a href="#FirstStart">First start</a></li>
<li><a href="#XL-WhoisMainWindow">Main Window</a></li>
<li><a href="#XL-WhoisConfigWindow">Config Window</a></li>
<ul>
<li><a href="#XL-WhoisConfigWindow">General tab</a></li>
<li><a href="#StorageTab">Storage tab</a></li>
<li><a href="#DatabasesTab">Databases tab</a></li>
</ul>
<li><a href="#WhoisDatabase">Whois Database</a></li>
<li><a href="#LoggingDatabase">Logging Database</a></li>
<li><a href="#WhoisRequest">Send a whois request</a></li>
</ul>

<h2 style="margin-top:1.5em;"><a name="FirstStart">First start</a></h2>
<p>When you start XL-Whois for the first time, you are asked if you want 
to set default configuration. If you click Yes, you will be asked to select 
a directory where:</p>
<ol>
<li>An empty <a href="#LoggingDatabase">Logging Database</a> will be created;</li>
<li>An empty <a href="#WhoisDatabase">Whois Database</a> will be created;</li>
<li>A subdirectory named <strong>whois</strong> will be created and selected 
for <strong>XL-Whois reports</strong>.</li>
<li>The <strong>TLD Database</strong> (effective_tld_names.dat) will be downloaded;</li>
<li>The <strong>Whois Server Database</strong> (tld.json) will be downloaded;</li>
<li>The <strong>IPv4 Database</strong> (ipv4-address-space.csv) will be downloaded;</li>
<li>The <strong>IPv6 Database</strong> (ipv6-unicast-address-assignments.csv) will 
be downloaded;</li>
<li>Following default options are selected:</li>
<ul>
<li>Activate Logging;</li>
<li>Check Logging Database;</li>
<li>Store Network whois data;</li>
<li>Check Whois database to "If present, ask";</li>
<li>Auto viewing for reports with a maximum of 25;</li>
<li>Auto update for TLD, Whois Server, IPv4 and IPv6 databases;</li>
<li>All parser options are selected: IPv4, IPv6, Hostname and Domain Name;</li>
<li>Check for update of the tool at startup.</li>
</ul>
</ol>
<p>A <strong>XL-Whois.ini</strong> file will be created in the program directory. 
This configuration file keep your preferences in memory. You can also set elements 
above manually, in case you already have some of these databases.</p>
<p>At the end, you will be asked if you want to send a whois test.</p>


<a name="XL-WhoisMainWindow">
<h2 style="margin-top:1.5em;">Main Window</h2>
<img src="XL-WhoisMainWindow.png" alt="Xl-Whois Main Window" width="512" height="327" border="0">
</a>
<p>In this window, you can select options for the current whois request(s):</p>
<ul>
<li><strong>Options:</strong> XL-Whois supports three different types of 
request:</li>
<ul>
<li><strong>Domain whois</strong> for domain names registration details;</li>
<li><strong>Network whois</strong> for IP addresses;</li>
<li><strong>DNS Records</strong> which is about the Domain name;</li>
<li>To be able to send a <strong>Domain whois</strong> about an IP address or 
to be able to send a <strong>Network whois</strong> about a Domain name, XL-Whois 
use system nsLookup to resolve the requested item.</li>
</ul>
<li><strong>Check db:</strong> There are two databases that can be used here:</li>
<ul> 
<li><strong>Whois Database</strong>: Details about <strong>Network whois</strong> 
in the database (see details in the <a href="#WhoisDatabase">Whois Database</a> 
section);</li>
<li><strong>Logging Database</strong>: History of your precedent requests. This 
database contains the exact items you requested, the comment you add, etc. This 
database is your personal history. See <a href="#LoggingDatabase">Logging 
Database</a> section for more details.</li>
</ul>
<li><strong>Add comment:</strong> This comment will be added to the 
<a href="#XL-WhoisReport">XL-Whois Report</a> and the <a href="#LoggingDatabase">Logging 
Database</a>. It can be anything like a file number, a project name, the reason 
you did this request, etc. The comment is optional.</li>
<br><br>
<img src="XL-WhoisClipboard.png" alt="Xl-Whois Clipboard Window" width="503" height="372" border="0">
<li><strong>Clipboard:</strong> The input data for whois requests is gathered 
from the clipboard content. Obviously, it must be in text format, but it doesn't 
have to be a clean enumeration. XL-Whois provides an integrated parser. You can 
see the result by using the <strong>Parse button</strong>, but it's not necessary 
to do this before sending your request. The parser is automatically used before 
each request. The <strong>Edit button</strong> saves data from the textfield to 
the clipboard. Parsed object are: <strong>IPv4</strong>, <strong>IPv6</strong>, 
<strong>Hostname</strong> and <strong>Domain name</strong>. These objects can be 
selected or deselected in the <a href="#XL-WhoisConfigWindow">Config Window</a>.</li>
</ul>


<div style="margin-bottom:1.5em;"><a href="#Documentation">Top of the page</a></div>
<a name="XL-WhoisConfigWindow">
<h2 style="margin-top:1.5em;">Config Window</h2>
<img src="XL-WhoisCW_General.png" alt="Xl-Whois Config Window - General" width="660" 
height="350" border="0">
</a>

<h3 style="margin-top:1.5em;">General tab</h3>
<p>In <strong>Tool</strong> section, we have the following functions:</p>
<ul>
<li><strong>Export Lang.ini:</strong> Use this function to translate XL-Whois GUI. 
See <a href="./XL-Whois.html#Translation">Translation</a> for help about this 
functionality.</li>
<li><strong>Check Update:</strong> Check on <a href="https://www.le-tools.com" 
target="_blank">www.le-tools.com</a> if a tool update is available;</li>
<li><strong>Check for update at startup:</strong> Check update everytime 
XL-Whois is started;</li>
</ul>
<p>In <strong>Parser</strong> section, you can select or deselect objects to 
be extracted by XL-Whois. Objects are: <strong>IPv4</strong>, <strong>IPv6</strong>, 
<strong>Hostname</strong> and <strong>Domain name</strong>.</p>
<p>In <strong>Whois</strong> section, you can set <strong>NsLookup timeout</strong>. 
When XL-Whois tries to resolve a hostname to an IP address or an IP address to a 
hostname, this is the time it will wait for the answer. Default is 10 seconds.</p>

<div style="margin-bottom:1.5em;"><a href="#Documentation">Top of the page</a></div>
<a name="StorageTab">
<h3 style="margin-top:1.5em;">Storage tab</h3>
<img src="XL-WhoisCW_Storage.png" alt="Xl-Whois Config Window - Storage" width="660" 
height="350" border="0">
</a>
<p>The following options have to be set in this tab:</p>
<ul>
<li><strong>Folder for reports:</strong> This is the folder where the whois reports 
will be saved.</li>
<ul>
<li><strong>Auto viewing</strong>: This option is used to open whois reports in 
browser (or the default program for .html file) as it go along. If number of reports 
is higher than the limit, reports will not be automatically open even if the option 
is selected.</li>
<li><strong>If report exists, replace it:</strong> If selected, older report with the 
same name will be replaced. If unchecked, an incremental value will be added to the 
new report filename.</li>
<li><strong>Open folder when finished:</strong> If selected, report folder will be 
opened in explorer at the end of the process.</li>
</ul>
<li><strong>Logging Database</strong>: This database is required only if you want 
to activate logging. See <a href="#LoggingDatabase">Logging Database</a> section 
for more details.</li>
<li><strong>Whois Database:</strong> The Whois Database is the main database 
where <strong>Network whois</strong> data will be saved. See <a href="#WhoisDatabase">Whois 
Database</a> section for more details.</li>
<ul>
<li><strong>Store Network whois data:</strong> If this option is checked, XL-Whois 
will use a cache to store the whole <strong>Network whois</strong> response. The 
information will be available in the <a href="#WhoisDatabase">Whois 
Database</a> window.</li>
</ul>
</ul>

<div style="margin-bottom:1.5em;"><a href="#Documentation">Top of the page</a></div>
<a name="DatabasesTab">
<h3 style="margin-top:1.5em;">Databases tab</h3>
<img src="XL-WhoisCW_Databases.png" alt="Xl-Whois Config Window - Databases" width="660" 
height="350" border="0">
</a>
<p>In this tab, you have to set the location of four databases:</p>
<ul>
<li><strong>TLD Database:</strong> This database is the Public Suffix List that 
come from <a href="https://publicsuffix.org" target="_blank">https://publicsuffix.org</a>. 
It's used by the parser of XL-Whois to identify valid domain name. This database must 
be regularly updated to support new or modified TLDs. Link to the database 
is <a href="https://publicsuffix.org/list/effective_tld_names.dat" 
target="_blank">https://publicsuffix.org/list/effective_tld_names.dat</a> (or 
<a href="https://publicsuffix.org/list/public_suffix_list.dat" 
target="_blank">https://publicsuffix.org/list/public_suffix_list.dat</a>).</li>
<li><strong>Whois Server Database:</strong> This database come from <a 
href="https://github.com/weppos" target="_blank">https://github.com/weppos</a> 
(whois repository). It's used by XL-Whois to identify the appropriate server for  
the <strong>Domain whois</strong> request. Link for the database is <a 
href="https://github.com/weppos/whois/blob/master/data/tld.json" 
target="_blank">https://github.com/weppos/whois/blob/master/data/tld.json</a>.</li>
<li><strong>IPv4 Database:</strong> This database is the "IANA IPv4 Address Space Registry" 
that come from <a href="http://www.iana.org" target="_blank">http://www.iana.org</a>. 
It's used by XL-Whois to identify the registry for IPv4 addresses (ARIN, RIPE, APNIC, 
LACNIC, Afrinic). Link to the database is 
<a href="http://www.iana.org/assignments/ipv4-address-space/ipv4-address-space.xhtml" 
target="_blank">http://www.iana.org/assignments/ipv4-address-space/ipv4-address-space.xhtml</a>.</li>
<li><strong>IPv6 Database:</strong> This database is the "IPv6 Global Unicast Address 
Assignments" that come from <a href="http://www.iana.org" target="_blank">http://www.iana.org</a>. 
It's used by XL-Whois to identify the registry for IPv6 addresses (ARIN, RIPE, APNIC, 
LACNIC, Afrinic). Link to the database is 
<a href="http://www.iana.org/assignments/ipv6-unicast-address-assignments/ipv6-unicast-address-assignments.xhtml" 
target="_blank">http://www.iana.org/assignments/ipv6-unicast-address-assignments/ipv6-unicast-address-assignments.xhtml</a>.</li>
</ul>


<div style="margin-bottom:1.5em;"><a href="#Documentation">Top of the page</a></div>
<a name="WhoisDatabase">
<h2 style="margin-top:1.5em;">Whois Database</h2>
<img src="XL-WhoisWhoisDatabase.png" alt="Xl-Whois Whois Database" width="750" height="500" border="0">
</a>
<p>XL-Whois use SQlite Format for the Whois Database. Everytime you use XL-Whois and send 
a <strong>Network whois</strong> request (IPv4 only), the response is parsed and some 
information is stored in the database. This includes: <strong>IP address 
range</strong>, <strong>ISP</strong>, <strong>Country</strong> and <strong>Date</strong> 
of the request. Below are explanations about the functions in this Window:</p>
<ul>
<li><strong style="text-decoration: underline;">Grid functions:</strong></li>
<ul>
<li><strong>Click:</strong> Clicking on header of each column is used to sort (ascending 
or descending) in alphanumeric order;</li>
<li><strong>Double-click:</strong> If it's a green background line, it means that all 
<strong>Network whois</strong> data are stored in cache. Double-clicking this line will 
show this data in a popup window (see below). If it's a not a green background line, 
double-clicking will allow you to edit the cell (If you want to edit green background 
line, you have to double-click slowly). ISP and Country are the only columns you will 
be able to edit.</li>
<br><br>
<img src="XL-WhoisWhoisDatabaseNWData.png" alt="Network Whois Data" width="750" height="500" border="0">
<li><strong>Right click:</strong> Right click will show a popup window where you can 
select the following functions:</li>
<ul>
<li><strong>Select All:</strong> Select all the line in the grid (CTRL+A can also be 
used);</li>
<li><strong>Copy lines:</strong> Copy selected lines to clipboard;</li>
<li><strong>Delete lines:</strong> Delete selected lines;</li>
</ul>
</ul>
<li><strong style="text-decoration: underline;">Export Database:</strong> Export the 
SQLite Database data to a text file. This file can be imported in another instance of 
XL-Whois.</li>
<li><strong style="text-decoration: underline;">Import to Database:</strong> The input 
file must have been created by the <strong>Export Database</strong> function. Unknown ISPs 
will be added and known ISPs will be modified if newer.</li>
<li><strong style="text-decoration: underline;">Extract whois info from a file:</strong> 
<strong>Network whois</strong> (raw format) is the same whatever the whois tool that has 
been used. This function uses the same parser as XL-Whois calls when it receives a response 
from a whois request. <strong>Network whois</strong> data will be added to the Database 
if unknown, or modified if newer.</li>
<li><strong style="text-decoration: underline;">Analyse Database:</strong> <strong>Network 
whois</strong> from ARIN often contains more than one result: the specific range related 
to the IP address requested and one, or more, parent ranges. XL-Whois store all these IP 
address ranges in the database. This function helps you clean your database. You can keep 
more specific ranges or only keep the larger range for best performance. See window 
below:</li>
<br><br>
<img src="XL-WhoisAnalyseWhoisDatabase.png" alt="Analyse Whois Database" width="760" height="510" border="0">
<li><strong style="text-decoration: underline;">Search:</strong> With this functionnality, 
you can search an IP address or a keyword. For IP address, it's based on IP range. For 
keyword, it looks at the ISP column.</li>
<li><strong style="text-decoration: underline;">Filter:</strong> To filter shown elements 
in the grid. Combination of multiple filters is supported. See window below:</li>
<br><br>
<img src="XL-WhoisWhoisDatabaseFilter.png" alt="Whois Database Filters" width="270" height="180" border="0">
</ul>


<div style="margin-bottom:1.5em;"><a href="#Documentation">Top of the page</a></div>
<a name="LoggingDatabase">
<h2 style="margin-top:1.5em;">Logging Database</h2>
<img src="XL-WhoisLoggingDatabase.png" alt="Xl-Whois Logging Database" width="750" height="500" border="0">
</a>
<p>Logging Database can be opened in the <a href="#StorageTab">Storage Tab</a> of the <a 
href="#XL-WhoisConfigWindow">Config Window</a> or from the Taskbar menu. Data from this 
database can also be imported or exported (right-click on any element in the grid). The 
<strong>Comment</strong> column is editable.</p>

<div style="margin-bottom:1.5em;"><a href="#Documentation">Top of the page</a></div>
<h2 style="margin-top:1.5em;"><a name="WhoisRequest">Send a whois request</a></h2>
<p>Once everything is ok, you can send your whois request(s). To do this, all you have 
to do is <strong>select and copy</strong> (to send the data to clipboard) and click on 
<strong>whois</strong>. You can click the whois button on the main interface or use the 
taskbar <strong>Whois</strong> function:</p>
<img src="XL-WhoisTaskbarMenu.png" alt="Xl-Whois Taskbar Menu" width="226" height="184" border="0">
<p>You can select anything, from an IP address to a whole page, and the XL-Whois parser 
will find and enumerate object(s) that can be used for whois.</p>
<p>Here are some explanations about the <strong>Check db</strong> options:</p>
<ul>
<li>Check <strong>Whois Database:</strong></li>
<ul>
<li><strong>If present, ask:</strong> XL-Whois will check the <a href="#WhoisDatabase">Whois 
Database</a> before sending the request (for IPv4 address element only). If an ISP is already 
known for this IP address, XL-Whois will show you actual data and ask you if you want to send 
the request.</li>
<li><strong>If present, ignore:</strong> XL-Whois will check the <a href="#WhoisDatabase">Whois 
Database</a> before sending the request (for IPv4 address element only). If an ISP is already 
known for this IP address, XL-Whois will ignore the request.</li>
<li><strong>Check after:</strong> XL-Whois will send the request and extract <strong>Network 
whois</strong> data from the response. If an ISP is already known for this IP address, it will 
ask you if you want to update the database with the new data. This option will work even if the 
requested item is not an IP address.</li>
</ul>
<li>Check <strong>Logging Database:</strong> The item will be searched in <strong>Details</strong> 
and <strong>Comment</strong> column. If more than three entries are found, only the three most 
recent results will be shown.</li>
</ul>
<p>This should look like this:</p>
<img src="XL-WhoisCheckDatabase.png" alt="Xl-Whois Check Database" width="419" height="424" border="0">
<p>When you send the request, XL-Whois will use nslookup (if necessary) to resolve the IP address or the 
hostname depending on requested item. Depending on the checked options, requests will be made as following:</p>
<ul>
<li>For <strong>Domain whois</strong>, XL-Whois will check in the <a href="#DatabasesTab">TLD Database</a> 
to extract and valid the domain name. After that, it will check in the <a href="#DatabasesTab">Whois 
Server Database</a> to identify the appropriate whois server for the query. You must be aware that, like 
many other whois tools, XL-Whois use the WHOIS protocol to send the request to an appropriate server 
listening on port 43. Some ccTLDs doesn't have this kind of server. In this case, you will have to check 
on the Website of these ccTLDs. For some of them, it's possible to send a http query. Examples of ccTLD 
that doesn't support whois request are <strong>.ar (Argentina)</strong>, <strong>.pk (Pakistan)</strong> 
and <strong>.es (Spain)</strong>.</li>
<li>For <strong>Network whois</strong>, XL-Whois will check in the <a href="#DatabasesTab">IPv4 Database</a> 
or the <a href="#DatabasesTab">IPv6 Database</a> to find the correct registry for the IP address. If no 
match is found, ARIN is used by default. The first request is sent to this registry. If the answer indicates 
another registry, a second request is sent to the this registry. When XL-Whois gets the final response, it 
parses the response to extract information about the ISP.</li>
<li>For <strong>DNS Records</strong>, XL-Whois will query each NS server for <strong>A</strong>, 
<strong>AAAA</strong>, <strong>NS</strong>, <strong>MX</strong>, <strong>CNAME</strong>, <strong>TXT</strong>, 
<strong>SOA</strong> and <strong>PTR</strong> records.</li>
</ul>
<p>Finally, XL-Whois will produce the report that will look like this (not a full sample below):</p>
<img src="XL-WhoisReport.png" alt="Xl-Whois Report" width="1051" height="693" border="0">

<br><br>
<hr>

<p style="color:#000066; font-size: 100%; font-weight: bold;">XL-Whois<br>Copyright 
(c) 2015 Alain Rioux</p>

</body>
</html>
